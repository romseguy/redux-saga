<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>API Reference | redux-saga</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.5.2">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-prism/prism.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    
    <link rel="prev" href="../../docs/Glossary.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="8" data-chapter-title="API Reference" data-filepath="docs/api/README.md" data-basepath="../.." data-revision="Sun Feb 07 2016 15:10:32 GMT+0000 (Morocco Standard Time)">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Read Me
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="docs/introduction/index.html">
            
                
                    <a href="../../docs/introduction/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Introduction
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="docs/introduction/Tutorial.html">
            
                
                    <a href="../../docs/introduction/Tutorial.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Step by step tutorial
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="docs/introduction/SagaBackground.html">
            
                
                    <a href="../../docs/introduction/SagaBackground.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Saga background
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="docs/basics/index.html">
            
                
                    <a href="../../docs/basics/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Basic Concepts
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="docs/basics/FutureActions.html">
            
                
                    <a href="../../docs/basics/FutureActions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Pulling Future Actions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="docs/basics/DispatchingActions.html">
            
                
                    <a href="../../docs/basics/DispatchingActions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Dispatching actions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="docs/basics/Effect.html">
            
                
                    <a href="../../docs/basics/Effect.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        A common abstraction: Effect
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="docs/basics/DeclarativeEffects.html">
            
                
                    <a href="../../docs/basics/DeclarativeEffects.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Declarative Effects
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="docs/basics/ErrorHandling.html">
            
                
                    <a href="../../docs/basics/ErrorHandling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Error handling
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="docs/advanced/index.html">
            
                
                    <a href="../../docs/advanced/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Advanced Concepts
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="docs/advanced/EffectsCombinators.html">
            
                
                    <a href="../../docs/advanced/EffectsCombinators.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Effect Combinators
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="docs/advanced/SequencingSagas.html">
            
                
                    <a href="../../docs/advanced/SequencingSagas.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Sequencing Sagas
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="docs/advanced/ComposingSagas.html">
            
                
                    <a href="../../docs/advanced/ComposingSagas.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Composing Sagas
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="docs/advanced/NonBlockingCalls.html">
            
                
                    <a href="../../docs/advanced/NonBlockingCalls.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Non blocking calls
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="docs/advanced/TaskCancellation.html">
            
                
                    <a href="../../docs/advanced/TaskCancellation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Task cancellation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="docs/advanced/Concurrency.html">
            
                
                    <a href="../../docs/advanced/Concurrency.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Common Concurrency Patterns
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="docs/advanced/Testing.html">
            
                
                    <a href="../../docs/advanced/Testing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Examples of Testing Sagas
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="docs/advanced/UsingRunSaga.html">
            
                
                    <a href="../../docs/advanced/UsingRunSaga.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Using runSaga
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="docs/recipes/index.html">
            
                
                    <a href="../../docs/recipes/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Recipes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="docs/ExternalResources.html">
            
                
                    <a href="../../docs/ExternalResources.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        External Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="docs/Troubleshooting.html">
            
                
                    <a href="../../docs/Troubleshooting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Troubleshooting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="docs/Glossary.html">
            
                
                    <a href="../../docs/Glossary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Glossary
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="8" data-path="docs/api/index.html">
            
                
                    <a href="../../docs/api/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        API Reference
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >redux-saga</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="api-reference">API Reference</h1>
<ul>
<li><a href="#middleware-api"><code>Middleware API</code></a><ul>
<li><a href="#sagamiddlewaresagas"><code>sagaMiddleware(...sagas)</code></a></li>
</ul>
</li>
<li><a href="#effect-creators"><code>Effect creators</code></a><ul>
<li><a href="#takepattern"><code>take(pattern)</code></a></li>
<li><a href="#putaction"><code>put(action)</code></a></li>
<li><a href="#callfn-args"><code>call(fn, ...args)</code></a></li>
<li><a href="#callcontext-fn-args"><code>call([context, fn], ...args)</code></a></li>
<li><a href="#applycontext-fn-args"><code>apply(context, fn, args)</code></a></li>
<li><a href="#cpsfn-args"><code>cps(fn, ...args)</code></a></li>
<li><a href="#cpscontext-fn-args"><code>cps([context, fn], ...args)</code></a></li>
<li><a href="#forkfn-args"><code>fork(fn, ...args)</code></a></li>
<li><a href="#forkcontext-fn-args"><code>fork([context, fn], ...args)</code></a></li>
<li><a href="#jointask"><code>join(task)</code></a></li>
<li><a href="#canceltask"><code>cancel(task)</code></a></li>
</ul>
</li>
<li><a href="#effect-combinators"><code>Effect combinators</code></a><ul>
<li><a href="#raceeffects"><code>race(effects)</code></a></li>
<li><a href="#effects-parallel-effects"><code>[...effects] (aka parallel effects)</code></a></li>
</ul>
</li>
<li><a href="#runsagagenerator-subscribe-dispatch-monitor"><code>runSaga(generator, {subscribe, dispatch}, [monitor])</code></a></li>
</ul>
<h2 id="middleware-api">Middleware API</h2>
<h3 id="sagamiddlewaresagas"><code>sagaMiddleware(...sagas)</code></h3>
<p>Creates a Redux middleware and connects the Sagas to the Redux Store</p>
<ul>
<li><code>sagas: Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Function</span><span class="token punctuation">&gt;</span></span></code> - A list of Generator functions</li>
</ul>
<h4 id="example">Example</h4>
<pre><code class="lang-JavaScript">import sagaMiddleware from &apos;redux-saga&apos;
import reducer from &apos;./path/to/reducer&apos;
import sagas from &apos;./path/to/sagas&apos;

export default function configureStore(initialState) {
  // Note: passing middleware as the last argument to createStore requires redux@&gt;=3.1.0
  return createStore(
    reducer,
    initialState,
    applyMiddleware(/* other middleware, */sagaMiddleware(...sagas))
  )
}
</code></pre>
<h4 id="notes">Notes</h4>
<p>Each Generator functions in <code>sagas</code> is invoked by the middleware with <code>getState</code>
method of the Redux Store as a first argument.</p>
<p>Each function in <code>sagas</code> must return a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator" target="_blank">Generator Object</a>.
The middleware will then iterate over the Generator and execute all yielded Effects.</p>
<p>In the first iteration, the middleware invokes the <code>next()</code> method to retrieve the next Effect. The
middleware then executes the yielded Effect as specified by the Effects API below. Meanwhile, the Generator
will be suspended until the effect execution terminates. Upon receiving
the result of the execution, the middleware calls <code>next(result)</code> on the Generator passing it the retrieved
result as argument. This process is repeated until the Generator terminates normally or by throwing some error.</p>
<p>If the execution results in an error (as specified by each Effect creator) then the
<code>throw(error)</code> method of the Generator is called instead. If the Generator function defines
a <code>try/catch</code> surrounding the current yield instruction, then the <code>catch</code> block will be invoked
by the underlying Generator runtime.</p>
<h2 id="effect-creators">Effect creators</h2>
<blockquote>
<h4 id="notes">Notes</h4>
<p>Each function below returns a plain JavaScript object and do not perform any execution
The execution is performed by the middleware during the Iteration process described above.
The middleware examines each Effect description and performs the appropriate action.</p>
</blockquote>
<h3 id="takepattern"><code>take(pattern)</code></h3>
<p>Creates an Effect description that instructs the middleware to wait for a specified action on the Store.
The Generator is suspended until an action that matches <code>pattern</code> is dispatched.</p>
<p><code>pattern</code> is interpreted using the following rules:</p>
<ul>
<li><p>If <code>take</code> is called with no arguments or <code>&apos;*&apos;</code> all dispatched actions are matched (e.g. <code>take()</code> will match all actions)</p>
</li>
<li><p>If it is a function, the action is matched if <code>pattern(action)</code> is true (e.g. <code>take(action =&gt; action.entities)</code>
will match all actions having a (truthy) <code>entities</code>field.)</p>
</li>
<li><p>If it is a String, the action is matched if <code>action.type === pattern</code> (e.g. <code>take(INCREMENT_ASYNC)</code></p>
</li>
<li><p>If it is an array, <code>action.type</code> is matched against all items in the array (e.g. <code>take([INCREMENT, DECREMENT])</code> will
match either actions of type <code>INCREMENT</code> or <code>DECREMENT</code>).</p>
</li>
</ul>
<h3 id="putaction"><code>put(action)</code></h3>
<p>Creates an Effect description that instructs the middleware to dispatch an action to the Store.</p>
<ul>
<li><code>action: Object</code> - <a href="http://redux.js.org/docs/api/Store.html#dispatch" target="_blank">see Redux <code>dispatch</code> documentation for complete infos</a></li>
</ul>
<h3 id="callfn-args"><code>call(fn, ...args)</code></h3>
<p>Creates an Effect description that instructs the middleware to call the function <code>fn</code> with <code>args</code> as arguments.</p>
<ul>
<li><p><code>fn: Function</code> - A Generator function, or normal function which returns a Promise as result</p>
</li>
<li><p><code>args: Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span></code> - An array of values to be passed as arguments to <code>fn</code></p>
</li>
</ul>
<h4 id="notes">Notes</h4>
<p><code>fn</code> can be either a <em>normal</em> or a Generator function.</p>
<p>The middleware invokes the function and examines its result.</p>
<p>If the result is a Generator object, the middleware will run it just like he did with the
startup Generators (passed to the middleware on startup). The parent Generator will be
suspended until the child Generator terminates normally, in which case the parent Generator
is resumed with the value returned by the child Generator. Or until the child aborts with some
error, in which case an error will be thrown inside the parent Generator.</p>
<p>If the result is a Promise, the middleware will suspend the Generator until the Promise is
resolved, in which case the Generator is resumed with the resolved value. or until the Promise
is rejected, in which case an error is thrown inside the Generator.</p>
<p>When an error is thrown inside the Generator. If it has a <code>try/catch</code> block surrounding the
current <code>yield</code> instruction, the control will be passed to the <code>catch</code> block. Otherwise,
the Generator aborts with the raised error, and if this Generator was called by another
Generator, the error will propagate to the calling Generator.</p>
<h3 id="callcontext-fn-args"><code>call([context, fn], ...args)</code></h3>
<p>Some as <code>call(fn, ...args)</code> but supports passing a <code>this</code> context to <code>fn</code>. This is useful to
invoke object methods.</p>
<h3 id="applycontext-fn-args"><code>apply(context, fn, args)</code></h3>
<p>Alias for <code>call([context, fn], ...args)</code></p>
<h3 id="cpsfn-args"><code>cps(fn, ...args)</code></h3>
<p>Creates an Effect description that instructs the middleware to invoke <code>fn</code> as a Node style function.</p>
<ul>
<li><p><code>fn: Function</code> - a Node style function. i.e. a function which accepts in addition to its arguments,
an additional callback to be invoked by <code>fn</code> when it terminates. The callback accepts two parameters,
where the first parameter is used to report errors while the second is used to report successful results</p>
</li>
<li><p><code>args: Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span></code> - an array to be passed as arguments for <code>fn</code></p>
</li>
</ul>
<h4 id="notes">Notes</h4>
<p>The middleware will perform a call <code>fn(...arg, cb)</code>. The <code>cb</code> is a callback passed by the middleware to
<code>fn</code>. If <code>fn</code> terminates normally, it must call <code>cb(null, result)</code> to notify the middleware
of a successful result. If <code>fn</code> encounters some error, then it must call <code>fn(error)</code> in order to
notify the middleware that an error has occurred.</p>
<p>The middleware remains suspended until <code>fn</code> terminates.</p>
<h3 id="cpscontext-fn-args"><code>cps([context, fn], ...args)</code></h3>
<p>Supports passing a <code>this</code> context to <code>fn</code> (object method invocation)</p>
<h3 id="forkfn-args"><code>fork(fn, ...args)</code></h3>
<p>Creates an Effect description that instructs the middleware to perform a <em>non blocking call</em> on <code>fn</code></p>
<h4 id="arguments">Arguments</h4>
<ul>
<li><p><code>fn: Function</code> - A Generator function, or normal function which returns a Promise as result</p>
</li>
<li><p><code>args: Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span></code> - An array of values to be passed as arguments to <code>fn</code></p>
</li>
</ul>
<h4 id="note">Note</h4>
<p><code>fork</code>, like <code>call</code>, can be used to invoke both normal and Generator functions. But, the calls are
non blocking, the middleware doesn&apos;t suspend the Generator while waiting for the result of <code>fn</code>.
Instead as soon as <code>fn</code> is invoked, the Generator resumes immediately.</p>
<p><code>fork</code>, alongside <code>race</code>, is a central Effect for managing concurrency between Sagas.</p>
<p>The result of <code>yield fork(fn ...args)</code> is a <em>Task descriptor</em>.  An object with some useful
methods and properties</p>
<table>
  <tr>
    <th>method</th>
    <th>return value</th>
  </tr>
  <tr>
    <td>task.isRunning()</td>
    <td>true if the task hasn&apos;t yet returned or throwed an error</td>
  </tr>
  <tr>
    <td>task.result()</td>
    <td>task return value. `undefined` if task is still running</td>
  </tr>
  <tr>
    <td>task.error()</td>
    <td>task thrown error. `undefined` if task is still running</td>
  </tr>
  <tr>
    <td>task.done</td>
    <td>
      a Promise which is either
        <ul>
          <li>resolved with task&apos;s return value</li>
          <li>rejected with task&apos;s thrown error</li>
        </ul>
      </td>
  </tr>
</table>


<h3 id="forkcontext-fn-args"><code>fork([context, fn], ...args)</code></h3>
<p>Supports invoking forked functions with a <code>this</code> context</p>
<h3 id="jointask"><code>join(task)</code></h3>
<p>Creates an Effect description that instructs the middleware to wait for the result
of a previously forked task.</p>
<ul>
<li><code>task: Object</code>: A Task Descriptor returned by a previous <code>fork</code></li>
</ul>
<h3 id="canceltask"><code>cancel(task)</code></h3>
<p>Creates an Effect description that instructs the middleware to cancel a previously forked task.</p>
<ul>
<li><code>task: Object</code>: A Task Descriptor returned by a previous <code>fork</code></li>
</ul>
<h4 id="notes">Notes</h4>
<p>To cancel a running Generator, the middleware will throw a <code>SagaCancellationException</code> inside
it.</p>
<p>Cancellation propagates downward. When canacelling a Generator, the middleware will also
cancel the current Effect where the Generator is currently blocked. If the current Effect
is a call to another Generator, then the Generator will also be cancelled.</p>
<p>A cancelled Generator can catch <code>SagaCancellationException</code>s in order to</p>
<p>*Note that uncaught SagaCancellationException are not bubbled upward, if a Generator
doesn&apos;t handle cancellation exceptions, the exception will not bubble to its parent
Generators.</p>
<p><code>cancel</code> is a non blocking Effect. i.e. the Generator will resume immediately after
throwing the cancellation exception.</p>
<p>For functions which return Promise results, you can plug your own cancellation logic
by attaching a <code>[CANCEL]</code> to the promise</p>
<p>The following example, shows how to attach cancellation logic to a Promise result</p>
<pre><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> fork<span class="token punctuation">,</span> cancel<span class="token punctuation">,</span> CANCEL <span class="token punctuation">}</span> from <span class="token string">&apos;redux-saga&apos;</span>

<span class="token keyword">function</span> <span class="token function">myApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token function">myXhr</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>

  promise<span class="token punctuation">[</span>CANCEL<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> myXhr<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> promise
<span class="token punctuation">}</span>

<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">mySaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">const</span> task <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">fork</span><span class="token punctuation">(</span>myApi<span class="token punctuation">)</span>

  <span class="token comment" spellcheck="true">// ... later</span>
  <span class="token comment" spellcheck="true">// will call promise[CANCEL] on the result of myApi</span>
  <span class="token keyword">yield</span> <span class="token function">cancel</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="effect-combinators">Effect combinators</h2>
<h3 id="raceeffects"><code>race(effects)</code></h3>
<p>Creates an Effect description that instructs the middleware to run a <em>Race</em> between
multiple Effects (this is similar to how <code>Promise.race([...])</code> behaves).</p>
<p><code>effects: Object</code> - a dictionary Object of the form {label: effect, ...}</p>
<h4 id="example">Example</h4>
<p>The following example run a race between 2 effects</p>
<p>1- A call to a function <code>fetchUsers</code> which returns a Promise
2- A <code>CANCEL_FETCH</code> action which may be eventually dispatched on the Store</p>
<pre><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> take<span class="token punctuation">,</span> call <span class="token punctuation">}</span> from `redux<span class="token operator">-</span>saga`
<span class="token keyword">import</span> fetchUsers from <span class="token string">&apos;./path/to/fetchUsers&apos;</span>

<span class="token keyword">function</span><span class="token operator">*</span> fetchUsersSaga <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>response<span class="token punctuation">,</span> cancel <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    result<span class="token punctuation">:</span> <span class="token function">call</span><span class="token punctuation">(</span>fetchUsers<span class="token punctuation">)</span><span class="token punctuation">,</span>
    take<span class="token punctuation">:</span> <span class="token punctuation">(</span>CANCEL_FETCH<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>If <code>call(fetchUsers)</code> resolves (or rejects) first, the result of <code>race</code> will be an object
with a single keyed object <code>{response: result}</code> where <code>result</code> is the resolved result of <code>fetchUsers</code></p>
<p>If an action of type <code>CANCEL_FETCH</code> is dispatched on the Store before <code>fetchUsers</code> completes, the result
will be a single keyed object <code>{cancel: action}</code>, where action is the dispatched action.</p>
<h4 id="notes">Notes</h4>
<p>When resolving a <code>race</code>, the middleware automatically cancels all the loosing Effect.</p>
<h3 id="effects-parallel-effects"><code>[...effects] (parallel effects)</code></h3>
<p>Creates an Effect description that instructs the middleware to run multiple Effects
in parallel and wait for all of them to complete</p>
<h4 id="example">Example</h4>
<p>The following example run 2 blocking calls in parallel</p>
<pre><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> fetchCustomers<span class="token punctuation">,</span> fetchProducts <span class="token punctuation">}</span> from <span class="token string">&apos;./path/to/api&apos;</span>

<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">mySaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>customers<span class="token punctuation">,</span> products<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token punctuation">[</span>
    <span class="token function">call</span><span class="token punctuation">(</span>fetchCustomers<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">call</span><span class="token punctuation">(</span>fetchProducts<span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="notes">Notes</h4>
<p>When running Effects in parallel, the middleware suspends the Generator until one
of the followings</p>
<ul>
<li><p>All the Effects completed with success: resumes the Generator with an array containing
the results of all Effects.</p>
</li>
<li><p>One of the Effects was rejected before all the effects complete: throw the rejection
errro inside the Generator.</p>
</li>
</ul>
<h2 id="external-api">External API</h2>
<h3 id="runsagagenerator-subscribe-dispatch-monitor"><code>runSaga(generator, {subscribe, dispatch}, [monitor])</code></h3>
<p>TBD</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../docs/Glossary.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Glossary"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-github/plugin.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"github":{"url":"https://github.com/yelouafi/redux-saga/"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"prism":{},"search":{},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
